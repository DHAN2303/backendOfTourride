2023-06-07 10:36:03.489 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 10:36:03.622 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 10:36:03.627 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 10:36:03.628 +03:00 [INF] Hosting environment: Development
2023-06-07 10:36:03.629 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 10:36:07.807 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 10:36:08.484 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 683.1994ms
2023-06-07 10:36:08.748 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 10:36:08.756 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 8.4760ms
2023-06-07 10:36:08.847 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 10:36:08.954 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 107.2317ms
2023-06-07 10:36:09.225 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 10:36:09.646 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 420.1989ms
2023-06-07 10:36:14.353 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 10:36:15.863 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 10:36:15.888 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 10:36:18.435 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 10:36:18.899 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 10:36:18.918 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTIzMzc4LCJleHAiOjE2ODg3MTUzNzgsImlhdCI6MTY4NjEyMzM3OH0.wR-IZgN4r1sSXuiMk-CrpQal50zLcoCO1dtl1rs-vxY
2023-06-07 10:36:18.928 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 10:36:18.954 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 3060.0938ms
2023-06-07 10:36:18.956 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 10:36:19.102 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:36:19.145 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 4792.6193ms
2023-06-07 10:36:19.390 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 10:36:19.393 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 10:36:19.413 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 10:36:19.418 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:36:19.421 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 30.0894ms
2023-06-07 10:36:19.592 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=TJN70mq58xtJE_W0bO0HlQ - -
2023-06-07 10:36:19.596 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 10:36:21.199 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 10:36:27.574 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 10:36:27.635 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 10:36:27.682 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 10:36:27.688 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 10:36:27.699 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 10:36:27.703 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 10:36:27.705 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 15.0814ms
2023-06-07 10:36:27.706 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 10:36:27.713 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 10:36:27.716 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 10:36:27.717 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 10:36:27.719 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:36:27.721 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 146.5781ms
2023-06-07 10:36:27.722 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 10:36:27.723 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 10:36:27.724 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 6.0685ms
2023-06-07 10:36:27.726 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 10:36:27.728 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:36:27.730 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 17.0612ms
2023-06-07 10:36:30.519 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 10:36:30.521 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 10:36:30.524 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 10:36:30.538 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 10:36:30.578 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 10:36:30.580 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 10:36:30.589 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 63.189ms
2023-06-07 10:36:30.590 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 10:36:30.593 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:36:30.594 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 75.4702ms
2023-06-07 10:36:43.560 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 10:39:28.745 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 10:44:25.389 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 10:44:25.439 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:44:25.444 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=TJN70mq58xtJE_W0bO0HlQ - - - 101 - - 485865.4733ms
2023-06-07 10:44:32.892 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 10:44:32.999 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 10:44:33.004 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 10:44:33.005 +03:00 [INF] Hosting environment: Development
2023-06-07 10:44:33.006 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 10:44:34.080 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 10:44:34.635 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 560.7337ms
2023-06-07 10:44:34.937 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 10:44:34.939 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 10:44:34.942 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 5.1145ms
2023-06-07 10:44:35.047 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 108.2594ms
2023-06-07 10:44:35.323 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 10:44:35.639 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 316.4100ms
2023-06-07 10:44:38.892 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 10:44:39.216 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 10:44:39.239 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 10:44:41.483 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 10:44:41.781 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 10:44:41.801 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTIzODgxLCJleHAiOjE2ODg3MTU4ODEsImlhdCI6MTY4NjEyMzg4MX0.jV0UAVpOeVuU1xhUzVCO_h9Y7jZ33m8NqBg4Z8kOdn0
2023-06-07 10:44:41.809 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 10:44:41.835 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2590.3376ms
2023-06-07 10:44:41.837 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 10:44:41.973 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:44:42.027 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3135.2648ms
2023-06-07 10:44:42.257 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 10:44:42.259 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 10:44:42.278 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 10:44:42.282 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:44:42.284 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 27.3643ms
2023-06-07 10:44:42.523 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=jrIbl_1xY5HbfOI2-C8dnw - -
2023-06-07 10:44:42.528 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 10:44:42.696 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 10:44:44.289 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 10:44:44.339 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 10:44:44.386 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 10:44:44.391 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 10:44:44.401 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 10:44:44.401 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 10:44:44.404 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 10:44:44.406 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 10:44:44.406 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 13.6464ms
2023-06-07 10:44:44.407 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 10:44:44.408 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 10:44:44.413 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 10:44:44.415 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 10:44:44.416 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 6.6006ms
2023-06-07 10:44:44.417 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 10:44:44.421 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:44:44.423 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 22.1668ms
2023-06-07 10:44:44.466 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:44:44.468 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 178.3388ms
2023-06-07 10:44:45.802 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 10:44:45.805 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 10:44:45.808 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 10:44:45.823 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 10:44:45.867 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 10:44:45.870 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 10:44:45.877 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 67.7465ms
2023-06-07 10:44:45.878 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 10:44:45.882 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:44:45.884 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 81.8613ms
2023-06-07 10:46:42.329 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 10:46:42.474 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 10:46:42.478 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 10:46:42.480 +03:00 [INF] Hosting environment: Development
2023-06-07 10:46:42.482 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 10:46:43.958 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 10:46:44.802 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 848.6340ms
2023-06-07 10:46:45.115 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 10:46:45.116 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 10:46:45.121 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 5.8331ms
2023-06-07 10:46:45.210 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 94.2248ms
2023-06-07 10:46:45.428 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 10:46:45.677 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 10:46:46.319 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 641.8270ms
2023-06-07 10:46:46.350 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 10:46:46.443 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 10:46:49.004 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 10:46:49.321 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 10:46:49.342 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTI0MDA5LCJleHAiOjE2ODg3MTYwMDksImlhdCI6MTY4NjEyNDAwOX0.cgBuamAnGySyo5PR_wpqQREwhM4qf-KhGlPkyul1v10
2023-06-07 10:46:49.351 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 10:46:49.377 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2918.4306ms
2023-06-07 10:46:49.379 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 10:46:49.550 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:46:49.594 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 4166.8510ms
2023-06-07 10:46:49.867 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 10:46:49.871 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 10:46:49.895 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 10:46:49.905 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:46:49.908 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 40.7894ms
2023-06-07 10:46:50.012 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=BFTE03OZonlbpO-jmXGkZQ - -
2023-06-07 10:46:50.016 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 10:46:50.249 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 10:46:52.410 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 10:46:52.469 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 10:46:52.514 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 10:46:52.520 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 10:46:52.527 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 10:46:52.534 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 10:46:52.575 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 10:46:52.576 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 10:46:52.577 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 55.5279ms
2023-06-07 10:46:52.577 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 10:46:52.578 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 10:46:52.582 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 10:46:52.584 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 10:46:52.585 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 6.0563ms
2023-06-07 10:46:52.586 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 10:46:52.589 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:46:52.590 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 180.6833ms
2023-06-07 10:46:52.630 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:46:52.632 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 98.0197ms
2023-06-07 10:46:53.945 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 10:46:53.946 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 10:46:53.948 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 10:46:53.959 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 10:46:54.022 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 10:46:54.025 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 10:46:54.038 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 88.5311ms
2023-06-07 10:46:54.040 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 10:46:54.044 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 10:46:54.047 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 102.1441ms
2023-06-07 10:47:01.111 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 11:09:26.084 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 11:09:26.129 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:09:26.135 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=BFTE03OZonlbpO-jmXGkZQ - - - 101 - - 1356147.1099ms
2023-06-07 11:09:43.540 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 11:09:43.647 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 11:09:43.652 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 11:09:43.653 +03:00 [INF] Hosting environment: Development
2023-06-07 11:09:43.653 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 11:09:44.267 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 11:09:44.995 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 732.6429ms
2023-06-07 11:09:45.264 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 11:09:45.266 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 11:09:45.275 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 8.4936ms
2023-06-07 11:09:45.329 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.1004ms
2023-06-07 11:09:45.626 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 11:09:45.930 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 304.5944ms
2023-06-07 11:09:54.666 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 11:09:55.013 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 11:09:55.039 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 11:09:57.415 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 11:09:57.752 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 11:09:57.771 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTI1Mzk3LCJleHAiOjE2ODg3MTczOTcsImlhdCI6MTY4NjEyNTM5N30.VYO9JQlOPvzQGm_B1N8uLJJwJkslP9O8G6Q0O_h__Us
2023-06-07 11:09:57.783 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 11:09:57.815 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2769.9063ms
2023-06-07 11:09:57.817 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 11:09:57.955 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:09:58.001 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3334.8825ms
2023-06-07 11:09:58.304 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 11:09:58.306 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 11:09:58.328 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 11:09:58.339 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:09:58.341 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 37.5681ms
2023-06-07 11:09:58.510 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=nHetbjTBVWYZI60E5x4hLg - -
2023-06-07 11:09:58.513 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 11:09:58.716 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 11:10:00.307 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 11:10:00.365 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 11:10:00.416 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 11:10:00.421 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 11:10:00.428 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 11:10:00.430 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 11:10:00.432 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 9.1638ms
2023-06-07 11:10:00.433 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 11:10:00.443 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:10:00.446 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 138.9416ms
2023-06-07 11:10:00.450 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 11:10:00.453 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 11:10:00.454 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 11:10:00.458 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 11:10:00.460 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 11:10:00.461 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 5.4404ms
2023-06-07 11:10:00.462 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 11:10:00.463 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:10:00.465 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 14.7189ms
2023-06-07 11:10:01.691 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 11:10:01.694 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 11:10:01.696 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 11:10:01.708 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 11:10:01.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 11:10:01.763 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 11:10:01.775 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 77.5868ms
2023-06-07 11:10:01.777 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 11:10:01.781 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:10:01.783 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 92.1576ms
2023-06-07 11:12:06.469 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 11:12:06.474 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:12:06.478 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=nHetbjTBVWYZI60E5x4hLg - - - 101 - - 127970.3584ms
2023-06-07 11:12:10.765 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 11:12:10.868 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 11:12:10.872 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 11:12:10.873 +03:00 [INF] Hosting environment: Development
2023-06-07 11:12:10.873 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 11:12:11.950 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 11:12:12.548 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 602.4684ms
2023-06-07 11:12:12.875 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 11:12:12.883 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 7.8155ms
2023-06-07 11:12:12.957 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 11:12:13.031 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.4965ms
2023-06-07 11:12:13.223 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 11:12:13.576 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 352.9161ms
2023-06-07 11:12:16.550 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 11:12:16.890 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 11:12:16.913 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 11:12:19.270 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 11:12:19.624 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 11:12:19.645 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTI1NTM5LCJleHAiOjE2ODg3MTc1MzksImlhdCI6MTY4NjEyNTUzOX0.nTKJBVHW2hK48o9uatP-PeWL_H4jugoEezs9u60A674
2023-06-07 11:12:19.657 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 11:12:19.682 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2763.6316ms
2023-06-07 11:12:19.685 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 11:12:19.841 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:12:19.893 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3343.3913ms
2023-06-07 11:12:20.140 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 11:12:20.143 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 11:12:20.165 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 11:12:20.169 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:12:20.172 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 32.1030ms
2023-06-07 11:12:20.362 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=MX7FmGs7pFqqKWCges4FNA - -
2023-06-07 11:12:20.368 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 11:12:20.582 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 11:12:24.495 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 11:12:24.540 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 11:12:24.601 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 11:12:24.606 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 11:12:24.616 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 11:12:24.617 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 11:12:24.619 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 11:12:24.619 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 11:12:24.621 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 11:12:24.624 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 16.0735ms
2023-06-07 11:12:24.625 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 11:12:24.629 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 11:12:24.632 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 11:12:24.633 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 9.6396ms
2023-06-07 11:12:24.634 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 11:12:24.640 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:12:24.642 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 147.0861ms
2023-06-07 11:12:24.712 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:12:24.713 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 96.9340ms
2023-06-07 11:12:31.473 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 11:12:31.476 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 11:12:31.478 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 11:12:31.496 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 11:12:31.592 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 11:12:31.595 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 11:12:31.612 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 132.225ms
2023-06-07 11:12:31.614 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 11:12:31.619 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:12:31.622 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 148.6380ms
2023-06-07 11:12:40.503 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 11:14:57.152 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 11:14:57.156 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:14:57.161 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=MX7FmGs7pFqqKWCges4FNA - - - 101 - - 156801.4431ms
2023-06-07 11:15:52.597 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 11:15:52.788 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 11:15:52.795 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 11:15:52.800 +03:00 [INF] Hosting environment: Development
2023-06-07 11:15:52.801 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 11:15:54.098 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 11:15:54.641 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 550.9628ms
2023-06-07 11:15:54.839 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 11:15:54.845 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 11:15:54.867 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 21.9897ms
2023-06-07 11:15:54.996 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 156.2695ms
2023-06-07 11:15:55.126 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 11:15:55.433 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 307.4979ms
2023-06-07 11:15:56.242 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 11:15:56.599 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 11:15:56.623 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 11:15:59.520 +03:00 [INF] Executed DbCommand (101ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 11:15:59.874 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 11:15:59.903 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTI1NzU5LCJleHAiOjE2ODg3MTc3NTksImlhdCI6MTY4NjEyNTc1OX0.LLUe1C8inSOSizE3cQjH7VvVLOGGnumfjU9l0tt6iWo
2023-06-07 11:15:59.917 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 11:15:59.951 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 3320.885ms
2023-06-07 11:15:59.953 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 11:16:00.190 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:16:00.263 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 4021.3450ms
2023-06-07 11:16:00.682 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 11:16:00.685 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 11:16:00.713 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 11:16:00.752 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:16:00.757 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 74.3960ms
2023-06-07 11:16:00.863 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=qZ4rfkaDyswhDdbFM4iOdA - -
2023-06-07 11:16:00.868 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 11:16:01.043 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 11:16:02.388 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 11:16:02.446 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 11:16:02.510 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 11:16:02.516 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 11:16:02.521 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 11:16:02.523 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 11:16:02.523 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 11:16:02.524 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 11:16:02.527 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 11:16:02.527 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 11:16:02.529 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 10.6952ms
2023-06-07 11:16:02.529 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 11:16:02.530 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 11:16:02.532 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 6.7105ms
2023-06-07 11:16:02.533 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 11:16:02.542 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:16:02.544 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 156.4921ms
2023-06-07 11:16:02.581 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:16:02.584 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 62.9184ms
2023-06-07 11:16:03.409 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 11:16:03.411 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 11:16:03.414 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 11:16:03.432 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 11:16:03.501 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 11:16:03.504 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 11:16:03.514 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 96.9778ms
2023-06-07 11:16:03.515 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 11:16:03.522 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 11:16:03.525 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 115.6286ms
2023-06-07 11:16:09.215 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 11:17:04.259 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 11:17:33.632 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 12:55:39.553 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 12:55:39.591 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 12:55:39.596 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=qZ4rfkaDyswhDdbFM4iOdA - - - 101 - - 5978855.8174ms
2023-06-07 12:55:51.921 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 12:55:52.042 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 12:55:52.046 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 12:55:52.047 +03:00 [INF] Hosting environment: Development
2023-06-07 12:55:52.048 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 12:55:52.820 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 12:55:53.345 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 530.9294ms
2023-06-07 12:55:53.464 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 12:55:53.467 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 12:55:53.477 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 11.9287ms
2023-06-07 12:55:53.515 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.6080ms
2023-06-07 12:55:53.656 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 12:55:53.883 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 227.8883ms
2023-06-07 12:56:09.303 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 12:56:10.604 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 12:56:10.632 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 12:56:14.485 +03:00 [INF] Executed DbCommand (112ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 12:56:15.125 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 12:56:15.161 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTMxNzc0LCJleHAiOjE2ODg3MjM3NzQsImlhdCI6MTY4NjEzMTc3NH0.2MPkhtOJkdEUdZy35KK3sbtwbdWOM9v_y_WB4Um59E0
2023-06-07 12:56:15.177 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 12:56:15.219 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 4576.3958ms
2023-06-07 12:56:15.221 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 12:56:15.424 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 12:56:15.484 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 6180.9749ms
2023-06-07 12:56:15.589 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 12:56:15.593 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 12:56:15.622 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 12:56:15.627 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 12:56:15.630 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 40.0305ms
2023-06-07 12:56:16.382 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=5p_jmvDxb1_Ee-SPcvWOOQ - -
2023-06-07 12:56:16.387 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 12:56:16.831 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 12:56:18.189 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 12:56:18.241 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 12:56:18.314 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 12:56:18.322 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 12:56:18.335 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 12:56:18.338 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 12:56:18.340 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 15.5289ms
2023-06-07 12:56:18.342 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 12:56:18.351 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 12:56:18.354 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 165.1541ms
2023-06-07 12:56:18.363 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 12:56:18.366 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 12:56:18.367 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 12:56:18.371 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 12:56:18.373 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 12:56:18.374 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 6.0663ms
2023-06-07 12:56:18.375 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 12:56:18.377 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 12:56:18.379 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 15.6080ms
2023-06-07 12:56:19.526 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 12:56:19.527 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 12:56:19.530 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 12:56:19.547 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 12:56:19.619 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 12:56:19.622 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 12:56:19.634 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 102.775ms
2023-06-07 12:56:19.635 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 12:56:19.642 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 12:56:19.644 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 117.9807ms
2023-06-07 13:01:54.668 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 13:01:54.772 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 13:01:54.777 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 13:01:54.777 +03:00 [INF] Hosting environment: Development
2023-06-07 13:01:54.778 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 13:01:55.493 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 13:01:55.858 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 368.3940ms
2023-06-07 13:01:55.954 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 13:01:55.957 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 13:01:55.960 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 6.0306ms
2023-06-07 13:01:55.990 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.0374ms
2023-06-07 13:01:56.091 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 13:01:56.286 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 194.3649ms
2023-06-07 13:02:00.617 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 13:02:00.926 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:02:00.950 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 13:02:03.416 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 13:02:03.769 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 13:02:03.792 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTMyMTIzLCJleHAiOjE2ODg3MjQxMjMsImlhdCI6MTY4NjEzMjEyM30.-ioQc3h5lr8yDb7wqtMXRo9CgtytRhrqMbh6d0xdGBs
2023-06-07 13:02:03.801 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:02:03.835 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2876.4285ms
2023-06-07 13:02:03.837 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:02:03.985 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:02:04.031 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3414.3839ms
2023-06-07 13:02:04.442 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 13:02:04.445 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 13:02:04.474 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 13:02:04.482 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:02:04.485 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 43.7212ms
2023-06-07 13:02:04.785 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=t3zRewGci2PqywLY6tJrqw - -
2023-06-07 13:02:04.790 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 13:02:05.053 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 13:02:05.962 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:02:06.020 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 13:02:06.073 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:02:06.078 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:02:06.088 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:02:06.091 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:02:06.093 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 13.3103ms
2023-06-07 13:02:06.094 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:02:06.095 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:02:06.098 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:02:06.099 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:02:06.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:02:06.107 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:02:06.109 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 7.7535ms
2023-06-07 13:02:06.110 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:02:06.113 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:02:06.116 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 21.0752ms
2023-06-07 13:02:06.155 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:02:06.157 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 194.9202ms
2023-06-07 13:02:09.004 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 13:02:09.006 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:02:09.008 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 13:02:09.020 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:02:09.074 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:02:09.078 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:02:09.090 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 80.5776ms
2023-06-07 13:02:09.091 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:02:09.096 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:02:09.098 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 94.1129ms
2023-06-07 13:04:10.495 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 13:04:10.499 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:04:10.505 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=t3zRewGci2PqywLY6tJrqw - - - 101 - - 125719.9687ms
2023-06-07 13:04:19.233 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 13:04:19.346 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 13:04:19.350 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 13:04:19.352 +03:00 [INF] Hosting environment: Development
2023-06-07 13:04:19.352 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 13:04:20.172 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 13:04:20.536 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 372.0566ms
2023-06-07 13:04:20.645 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 13:04:20.649 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 13:04:20.653 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 7.5806ms
2023-06-07 13:04:20.679 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.0545ms
2023-06-07 13:04:20.791 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 13:04:21.006 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 215.6154ms
2023-06-07 13:04:38.479 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 13:04:38.782 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:04:38.806 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 13:04:41.278 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 13:04:41.639 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 13:04:41.661 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTMyMjgxLCJleHAiOjE2ODg3MjQyODEsImlhdCI6MTY4NjEzMjI4MX0.O1Xe3FtevC-U14xuXF9ybjzK6gQQ8-ST_cJ6Frwwvd4
2023-06-07 13:04:41.675 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:04:41.702 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2891.4017ms
2023-06-07 13:04:41.705 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:04:41.865 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:04:41.912 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3433.0487ms
2023-06-07 13:04:42.300 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 13:04:42.302 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 13:04:42.331 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 13:04:42.354 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:04:42.357 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 57.5417ms
2023-06-07 13:04:42.667 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=2FKpN6EjwyU_qoxqOt-7mg - -
2023-06-07 13:04:42.671 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 13:04:42.891 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 13:04:46.620 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:04:46.626 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 13:04:46.716 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:04:46.717 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:04:46.719 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:04:46.722 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:04:46.722 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:04:46.729 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:04:46.733 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:04:46.735 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 10.2357ms
2023-06-07 13:04:46.736 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:04:46.752 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:04:46.754 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 37.9819ms
2023-06-07 13:04:46.775 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:04:46.777 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:04:46.778 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 55.0623ms
2023-06-07 13:04:46.780 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:04:46.781 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:04:46.783 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 162.6369ms
2023-06-07 13:04:53.408 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 13:04:53.410 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:04:53.412 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 13:04:53.424 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:04:53.464 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:04:53.467 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:04:53.477 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 64.1641ms
2023-06-07 13:04:53.479 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:04:53.485 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:04:53.488 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 79.8747ms
2023-06-07 13:08:20.808 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:09:06.095 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:12:40.538 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:12:58.286 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:17:36.566 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:17:40.815 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:19:45.248 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:20:21.460 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 13:20:21.463 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:20:21.467 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=2FKpN6EjwyU_qoxqOt-7mg - - - 101 - - 938800.4447ms
2023-06-07 13:20:29.348 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 13:20:29.518 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 13:20:29.522 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 13:20:29.523 +03:00 [INF] Hosting environment: Development
2023-06-07 13:20:29.524 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 13:20:29.985 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 13:20:30.454 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 479.9276ms
2023-06-07 13:20:30.602 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 13:20:30.608 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 13:20:30.615 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 12.5976ms
2023-06-07 13:20:30.674 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.9330ms
2023-06-07 13:20:30.801 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 13:20:31.050 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 248.4293ms
2023-06-07 13:20:37.934 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 13:20:38.194 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:20:38.216 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 13:20:40.555 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 13:20:40.896 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 13:20:40.919 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTMzMjQwLCJleHAiOjE2ODg3MjUyNDAsImlhdCI6MTY4NjEzMzI0MH0.PIlawYp8WA6FGK-apgENhKCU-WC3d1gliSAWmHjj0ZI
2023-06-07 13:20:40.932 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:20:40.961 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2737.3687ms
2023-06-07 13:20:40.963 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:20:41.155 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:20:41.199 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3264.6583ms
2023-06-07 13:20:41.593 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 13:20:41.597 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 13:20:41.618 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 13:20:41.624 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:20:41.627 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 34.3867ms
2023-06-07 13:20:41.832 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=GAN1eyVu1ue-5t2nzNPu-A - -
2023-06-07 13:20:41.838 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 13:20:42.024 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 13:20:44.462 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:20:44.502 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 13:20:44.578 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:20:44.582 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:20:44.590 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:20:44.590 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:20:44.593 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:20:44.594 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:20:44.597 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 12.7701ms
2023-06-07 13:20:44.597 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:20:44.598 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:20:44.604 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:20:44.606 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:20:44.607 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 6.7482ms
2023-06-07 13:20:44.608 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:20:44.612 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:20:44.614 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 23.9836ms
2023-06-07 13:20:44.647 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:20:44.649 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 186.8842ms
2023-06-07 13:20:46.018 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 13:20:46.020 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:20:46.022 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 13:20:46.033 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:20:46.079 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:20:46.084 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:20:46.097 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 73.6885ms
2023-06-07 13:20:46.098 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:20:46.105 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:20:46.109 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 91.3000ms
2023-06-07 13:20:50.784 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:20:55.058 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:20:55.504 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:20:55.908 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:21:03.504 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 13:21:03.507 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:21:03.512 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=GAN1eyVu1ue-5t2nzNPu-A - - - 101 - - 21679.6831ms
2023-06-07 13:35:15.542 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 13:35:15.650 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 13:35:15.654 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 13:35:15.655 +03:00 [INF] Hosting environment: Development
2023-06-07 13:35:15.655 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 13:35:16.301 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 13:35:16.648 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 349.8188ms
2023-06-07 13:35:16.751 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 13:35:16.754 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 13:35:16.758 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 7.0214ms
2023-06-07 13:35:16.784 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.8666ms
2023-06-07 13:35:16.881 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 13:35:17.078 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 197.1916ms
2023-06-07 13:35:19.747 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 13:35:20.210 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:35:20.245 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 13:35:23.205 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 13:35:23.558 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 13:35:23.579 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM0MTIzLCJleHAiOjE2ODg3MjYxMjMsImlhdCI6MTY4NjEzNDEyM30.D8V6Vvj88uEEseR5Z0cIoIwPBPF162TsH3NIWUjxnYQ
2023-06-07 13:35:23.590 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:35:23.618 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 3366.3506ms
2023-06-07 13:35:23.620 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:35:23.779 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:35:23.830 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 4083.3629ms
2023-06-07 13:35:23.906 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 13:35:23.911 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 13:35:23.944 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 13:35:23.950 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:35:23.954 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 47.8533ms
2023-06-07 13:35:24.545 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=gyTHIeXObMV65SXoa8o_cQ - -
2023-06-07 13:35:24.551 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 13:35:24.806 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 13:35:26.543 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:35:26.589 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 13:35:26.660 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:35:26.667 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:35:26.679 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:35:26.681 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:35:26.683 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 14.4861ms
2023-06-07 13:35:26.684 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:35:26.691 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:35:26.695 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:35:26.696 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:35:26.697 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:35:26.699 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 156.4148ms
2023-06-07 13:35:26.701 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:35:26.702 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:35:26.703 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 5.859ms
2023-06-07 13:35:26.705 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:35:26.706 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:35:26.708 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 16.9824ms
2023-06-07 13:35:27.648 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 13:35:27.650 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:35:27.653 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 13:35:27.670 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:35:27.722 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:35:27.726 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:35:27.735 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 80.4648ms
2023-06-07 13:35:27.737 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:35:27.742 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:35:27.744 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 95.7084ms
2023-06-07 13:35:33.250 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:35:42.267 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:36:23.180 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:38:02.161 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:38:19.607 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:38:29.540 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 13:38:29.763 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 13:38:29.786 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 13:38:29.795 +03:00 [INF] Hosting environment: Development
2023-06-07 13:38:29.796 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 13:38:30.322 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 13:38:31.047 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 728.9733ms
2023-06-07 13:38:31.293 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 13:38:31.301 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 13:38:31.334 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 33.1357ms
2023-06-07 13:38:31.453 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 160.6131ms
2023-06-07 13:38:31.638 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 13:38:32.271 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 633.9336ms
2023-06-07 13:38:38.016 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 13:38:38.306 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:38:38.336 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 13:38:40.884 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 13:38:41.251 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 13:38:41.274 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM0MzIxLCJleHAiOjE2ODg3MjYzMjEsImlhdCI6MTY4NjEzNDMyMX0.SuZii_O0FGfQXAFZV0QpeCrzj8xf5OTiNSnRTb3iipc
2023-06-07 13:38:41.292 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:38:41.321 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2979.317ms
2023-06-07 13:38:41.323 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:38:41.467 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:38:41.519 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3502.9633ms
2023-06-07 13:38:41.589 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 13:38:41.591 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 13:38:41.611 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 13:38:41.617 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:38:41.619 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 30.5028ms
2023-06-07 13:38:42.234 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=u57kzybcynaS4d2Yhciadw - -
2023-06-07 13:38:42.237 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 13:38:42.448 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 13:38:43.678 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:38:43.712 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 13:38:43.797 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:38:43.801 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:38:43.808 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:38:43.811 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:38:43.814 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 11.6283ms
2023-06-07 13:38:43.814 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:38:43.815 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:38:43.817 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:38:43.819 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:38:43.823 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:38:43.825 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:38:43.826 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:38:43.826 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 5.9578ms
2023-06-07 13:38:43.827 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 149.2905ms
2023-06-07 13:38:43.828 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:38:43.830 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:38:43.832 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 17.6696ms
2023-06-07 13:38:45.206 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 13:38:45.208 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:38:45.211 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 13:38:45.225 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:38:45.285 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:38:45.289 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:38:45.298 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 85.9598ms
2023-06-07 13:38:45.300 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:38:45.303 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:38:45.307 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 101.3777ms
2023-06-07 13:38:51.058 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:40:32.812 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:45:08.072 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:47:36.478 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 13:47:36.484 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:47:36.489 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=u57kzybcynaS4d2Yhciadw - - - 101 - - 534255.3802ms
2023-06-07 13:47:40.946 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 13:47:41.050 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 13:47:41.054 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 13:47:41.055 +03:00 [INF] Hosting environment: Development
2023-06-07 13:47:41.056 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 13:47:41.598 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 13:47:41.952 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 355.9553ms
2023-06-07 13:47:42.056 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 13:47:42.056 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 13:47:42.063 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 6.9231ms
2023-06-07 13:47:42.093 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.6873ms
2023-06-07 13:47:42.203 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 13:47:42.422 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 218.7680ms
2023-06-07 13:47:45.550 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 13:47:45.845 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:47:45.871 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 13:47:48.179 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 13:47:48.481 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 13:47:48.503 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM0ODY4LCJleHAiOjE2ODg3MjY4NjgsImlhdCI6MTY4NjEzNDg2OH0.BvvbLRuFk9EB3MUQTkNToSEPWsjvbprFc1ZFsvpQqpY
2023-06-07 13:47:48.513 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:47:48.545 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2665.1941ms
2023-06-07 13:47:48.547 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:47:48.698 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:47:48.747 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3196.5468ms
2023-06-07 13:47:49.177 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 13:47:49.180 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 13:47:49.198 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 13:47:49.209 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:47:49.212 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 34.8746ms
2023-06-07 13:47:49.523 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=XfAlIpY7424llm97lntwiQ - -
2023-06-07 13:47:49.527 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 13:47:49.781 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 13:47:50.642 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:47:50.706 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 13:47:50.754 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:47:50.758 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:47:50.765 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:47:50.767 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:47:50.769 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 9.2905ms
2023-06-07 13:47:50.770 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:47:50.780 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:47:50.782 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 140.2247ms
2023-06-07 13:47:50.798 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:47:50.799 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:47:50.800 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:47:50.805 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:47:50.807 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:47:50.808 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 5.9852ms
2023-06-07 13:47:50.808 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:47:50.810 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:47:50.812 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 14.8244ms
2023-06-07 13:47:51.340 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 13:47:51.342 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:47:51.344 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 13:47:51.358 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:47:51.402 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:47:51.405 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:47:51.413 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 66.4922ms
2023-06-07 13:47:51.414 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:47:51.564 +03:00 [INF] Executed DbCommand (147ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:47:51.566 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 225.5396ms
2023-06-07 13:47:56.207 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:49:45.587 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 13:49:45.717 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 13:49:45.721 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 13:49:45.723 +03:00 [INF] Hosting environment: Development
2023-06-07 13:49:45.724 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 13:49:46.162 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 13:49:46.726 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 567.8320ms
2023-06-07 13:49:46.885 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 13:49:46.887 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 13:49:46.895 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 10.3270ms
2023-06-07 13:49:46.933 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.2757ms
2023-06-07 13:49:47.062 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 13:49:47.327 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 264.9093ms
2023-06-07 13:49:50.606 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 13:49:50.867 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:49:50.890 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 13:49:53.077 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 13:49:53.378 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 13:49:53.398 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM0OTkzLCJleHAiOjE2ODg3MjY5OTMsImlhdCI6MTY4NjEzNDk5M30.40t4GDQpck6YSmrWY26v0Ona_5UV5AsA7zayrdRCMDk
2023-06-07 13:49:53.407 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:49:53.433 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2536.8802ms
2023-06-07 13:49:53.434 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:49:53.585 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:49:53.626 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3020.6193ms
2023-06-07 13:49:54.013 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 13:49:54.016 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 13:49:54.037 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 13:49:54.041 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:49:54.043 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 29.9698ms
2023-06-07 13:49:54.326 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=nRidyoaBFBTAdaLrtTpNdg - -
2023-06-07 13:49:54.332 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 13:49:54.614 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 13:49:55.378 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:49:55.395 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 13:49:55.476 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:49:55.483 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:49:55.483 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:49:55.486 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:49:55.486 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:49:55.495 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:49:55.498 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:49:55.500 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 10.8781ms
2023-06-07 13:49:55.501 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:49:55.513 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:49:55.515 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 39.2877ms
2023-06-07 13:49:55.533 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:49:55.535 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:49:55.536 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 48.467ms
2023-06-07 13:49:55.537 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:49:55.539 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:49:55.541 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 163.2355ms
2023-06-07 13:49:56.248 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 13:49:56.251 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:49:56.255 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 13:49:56.267 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:49:56.313 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:49:56.316 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:49:56.325 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 68.4309ms
2023-06-07 13:49:56.326 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:49:56.331 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:49:56.334 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 85.3668ms
2023-06-07 13:50:00.856 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:55:36.431 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 13:55:36.704 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 13:55:36.711 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 13:55:36.713 +03:00 [INF] Hosting environment: Development
2023-06-07 13:55:36.714 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 13:55:37.015 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 13:55:37.447 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 13:55:37.663 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 13:55:37.701 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 13:55:37.933 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 485.4775ms
2023-06-07 13:55:38.118 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 13:55:38.121 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 13:55:38.137 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 15.8715ms
2023-06-07 13:55:38.184 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.1969ms
2023-06-07 13:55:38.457 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 13:55:38.831 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 374.0256ms
2023-06-07 13:55:40.326 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:55:40.408 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 3405.0682ms
2023-06-07 13:55:43.099 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 13:55:43.110 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:55:43.138 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 13:55:43.978 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 13:55:44.195 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 13:55:44.218 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM1MzQ0LCJleHAiOjE2ODg3MjczNDQsImlhdCI6MTY4NjEzNTM0NH0.y_UkUno6DrgFISFPbBjPDQVjDpSnCWiWRcxRWuedaeE
2023-06-07 13:55:44.228 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:55:44.255 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 1110.1098ms
2023-06-07 13:55:44.257 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:55:44.278 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:55:44.281 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 1182.1957ms
2023-06-07 13:55:44.352 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 13:55:44.356 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 13:55:44.357 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 13:55:44.369 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:55:44.372 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 19.4095ms
2023-06-07 13:55:44.413 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=mutrS8La1hSfibgqpjbRtw - -
2023-06-07 13:55:44.415 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 13:55:44.550 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 13:55:46.976 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:55:47.011 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 13:55:47.066 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:55:47.071 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:55:47.079 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:55:47.082 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:55:47.084 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 11.4284ms
2023-06-07 13:55:47.085 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:55:47.097 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:55:47.100 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:55:47.101 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:55:47.102 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:55:47.104 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 127.6957ms
2023-06-07 13:55:47.109 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:55:47.111 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:55:47.112 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 7.1179ms
2023-06-07 13:55:47.113 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:55:47.115 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:55:47.117 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 19.3422ms
2023-06-07 13:55:48.289 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 13:55:48.291 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:55:48.294 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 13:55:48.309 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:55:48.358 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:55:48.361 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:55:48.371 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 75.4863ms
2023-06-07 13:55:48.373 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:55:48.378 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:55:48.380 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 90.5300ms
2023-06-07 13:55:53.586 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:55:57.718 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:56:04.337 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:56:37.482 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:56:41.462 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO group_messages (content_type, created_at, group_id, message_content, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 13:57:38.462 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 13:57:38.464 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:57:38.468 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=mutrS8La1hSfibgqpjbRtw - - - 101 - - 114055.4552ms
2023-06-07 13:57:45.923 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 13:57:46.063 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 13:57:46.069 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 13:57:46.070 +03:00 [INF] Hosting environment: Development
2023-06-07 13:57:46.071 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 13:57:46.891 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 13:57:47.310 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 422.4746ms
2023-06-07 13:57:47.426 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 13:57:47.431 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 13:57:47.436 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 10.4099ms
2023-06-07 13:57:47.479 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 48.9148ms
2023-06-07 13:57:47.606 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 13:57:47.842 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 235.6916ms
2023-06-07 13:57:53.812 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 13:57:54.082 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:57:54.105 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 13:57:56.382 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 13:57:56.703 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 13:57:56.726 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM1NDc2LCJleHAiOjE2ODg3Mjc0NzYsImlhdCI6MTY4NjEzNTQ3Nn0.w9SkEppISOv6HYRt4WR0RT8Lzm162O08GYUcECqliVs
2023-06-07 13:57:56.736 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:57:56.765 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2653.5059ms
2023-06-07 13:57:56.766 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 13:57:56.927 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:57:56.975 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3162.4557ms
2023-06-07 13:57:57.368 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 13:57:57.371 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 13:57:57.391 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 13:57:57.397 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:57:57.400 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 32.1501ms
2023-06-07 13:57:57.780 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=tApNWp-o16xom9RTBgp6eQ - -
2023-06-07 13:57:57.784 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 13:57:58.016 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 13:57:58.911 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:57:58.959 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 13:57:59.014 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:57:59.018 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:57:59.026 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:57:59.029 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:57:59.031 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 11.4555ms
2023-06-07 13:57:59.033 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:57:59.035 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 13:57:59.038 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:57:59.038 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 13:57:59.042 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:57:59.043 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 132.2663ms
2023-06-07 13:57:59.079 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 13:57:59.081 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:57:59.082 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 42.4362ms
2023-06-07 13:57:59.083 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 13:57:59.085 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:57:59.086 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 50.7286ms
2023-06-07 13:57:59.970 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 13:57:59.972 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:57:59.976 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 13:57:59.990 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:58:00.050 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 13:58:00.053 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 13:58:00.068 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 90.5898ms
2023-06-07 13:58:00.069 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 13:58:00.075 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 13:58:00.077 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 106.5020ms
2023-06-07 13:58:15.404 +03:00 [ERR] Failed to invoke hub method 'SendMessage'.
System.InvalidOperationException: Sequence contains no elements
   at System.Linq.ThrowHelper.ThrowNoElementsException()
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at AllrideApi.Hubs.ChatHubs.SendMessage(Int32 senderid, Int32 receiveid, Int32 content_type, String message) in D:\Work\touride\current\current\current\AllrideApiService\Services\Concrete\Hubs\ChatHubs.cs:line 26
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.ExecuteMethod(ObjectMethodExecutor methodExecutor, Hub hub, Object[] arguments)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.<Invoke>g__ExecuteInvocation|16_0(DefaultHubDispatcher`1 dispatcher, ObjectMethodExecutor methodExecutor, THub hub, Object[] arguments, AsyncServiceScope scope, IHubActivator`1 hubActivator, HubConnectionContext connection, HubMethodInvocationMessage hubMethodInvocationMessage, Boolean isStreamCall)
2023-06-07 13:58:18.527 +03:00 [ERR] Failed to invoke hub method 'SendMessage'.
System.InvalidOperationException: Sequence contains no elements
   at System.Linq.ThrowHelper.ThrowNoElementsException()
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at AllrideApi.Hubs.ChatHubs.SendMessage(Int32 senderid, Int32 receiveid, Int32 content_type, String message) in D:\Work\touride\current\current\current\AllrideApiService\Services\Concrete\Hubs\ChatHubs.cs:line 26
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.ExecuteMethod(ObjectMethodExecutor methodExecutor, Hub hub, Object[] arguments)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.<Invoke>g__ExecuteInvocation|16_0(DefaultHubDispatcher`1 dispatcher, ObjectMethodExecutor methodExecutor, THub hub, Object[] arguments, AsyncServiceScope scope, IHubActivator`1 hubActivator, HubConnectionContext connection, HubMethodInvocationMessage hubMethodInvocationMessage, Boolean isStreamCall)
2023-06-07 14:02:18.967 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 14:02:19.074 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 14:02:19.078 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 14:02:19.080 +03:00 [INF] Hosting environment: Development
2023-06-07 14:02:19.080 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 14:02:19.735 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 14:02:20.131 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 398.7035ms
2023-06-07 14:02:20.249 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 14:02:20.250 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 14:02:20.272 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 23.2503ms
2023-06-07 14:02:20.314 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 64.1817ms
2023-06-07 14:02:20.416 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 14:02:20.625 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 208.4975ms
2023-06-07 14:02:35.395 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 14:02:35.689 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:02:35.711 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 14:02:37.862 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 14:02:38.161 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 14:02:38.182 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM1NzU4LCJleHAiOjE2ODg3Mjc3NTgsImlhdCI6MTY4NjEzNTc1OH0.-podl9IMHP2AtgbSbcsKphxCjYp0SQ3vKomwE4UemCQ
2023-06-07 14:02:38.191 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:02:38.216 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2500.0725ms
2023-06-07 14:02:38.218 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:02:38.363 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:02:38.411 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3015.5500ms
2023-06-07 14:02:38.842 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:02:38.844 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:02:38.865 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:02:38.873 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:02:38.876 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 33.9205ms
2023-06-07 14:02:38.978 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=8ushydVRJdomiGzILz06ug - -
2023-06-07 14:02:38.983 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 14:02:39.159 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 14:02:41.286 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:02:41.331 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 14:02:41.387 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:02:41.390 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:02:41.398 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:02:41.400 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:02:41.402 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 10.844ms
2023-06-07 14:02:41.404 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:02:41.413 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:02:41.415 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:02:41.416 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:02:41.417 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 130.8228ms
2023-06-07 14:02:41.418 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:02:41.422 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:02:41.424 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:02:41.425 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 5.3408ms
2023-06-07 14:02:41.426 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:02:41.428 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:02:41.431 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 18.6249ms
2023-06-07 14:02:42.358 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 14:02:42.360 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:02:42.363 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 14:02:42.375 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:02:42.419 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:02:42.421 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:02:42.429 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 64.9096ms
2023-06-07 14:02:42.430 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:02:42.434 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:02:42.435 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 77.3366ms
2023-06-07 14:03:36.191 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 14:03:36.316 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 14:03:36.319 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 14:03:36.320 +03:00 [INF] Hosting environment: Development
2023-06-07 14:03:36.321 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 14:03:37.172 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 14:03:37.578 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 408.7891ms
2023-06-07 14:03:37.684 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 14:03:37.687 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 14:03:37.697 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 9.1594ms
2023-06-07 14:03:37.734 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.4183ms
2023-06-07 14:03:37.857 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 14:03:38.073 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 215.7982ms
2023-06-07 14:04:05.086 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 14:04:05.358 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:04:05.380 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 14:04:07.668 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 14:04:07.988 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 14:04:08.014 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM1ODQ3LCJleHAiOjE2ODg3Mjc4NDcsImlhdCI6MTY4NjEzNTg0N30.4YIMea-BG4ydqky6Nit0H1jI3hpGFGuEXaDzCSRBAAQ
2023-06-07 14:04:08.025 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:04:08.051 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2665.4923ms
2023-06-07 14:04:08.052 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:04:08.220 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:04:08.266 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3179.6292ms
2023-06-07 14:04:08.662 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:04:08.664 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:04:08.682 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:04:08.689 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:04:08.694 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 31.7873ms
2023-06-07 14:04:09.000 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=K-HIIQYUVOEjZVUQciNhfQ - -
2023-06-07 14:04:09.004 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 14:04:09.195 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 14:04:12.800 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 14:04:12.900 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:04:12.905 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:04:12.991 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:04:12.992 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:04:12.995 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:04:12.995 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:04:13.002 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:04:13.004 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:04:13.007 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 10.4712ms
2023-06-07 14:04:13.008 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:04:13.023 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:04:13.027 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 121.5074ms
2023-06-07 14:04:13.047 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:04:13.049 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:04:13.050 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 52.3695ms
2023-06-07 14:04:13.051 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:04:13.053 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:04:13.055 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 155.5572ms
2023-06-07 14:04:20.180 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 14:04:20.182 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:04:20.185 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 14:04:20.203 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:04:20.247 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:04:20.250 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:04:20.258 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 71.7691ms
2023-06-07 14:04:20.260 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:04:20.265 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:04:20.268 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 87.8353ms
2023-06-07 14:04:29.250 +03:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO messages (content_type, created_at, message_content, recipient_id, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 14:04:29.404 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AllrideApiRepository.AllrideApiDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_messages"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|225_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_messages"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: messages
    ConstraintName: PK_messages
    File: nbtinsert.c
    Line: 671
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_messages"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|225_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_messages"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: messages
    ConstraintName: PK_messages
    File: nbtinsert.c
    Line: 671
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-07 14:05:45.545 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 14:05:45.648 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 14:05:45.652 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 14:05:45.653 +03:00 [INF] Hosting environment: Development
2023-06-07 14:05:45.654 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 14:05:46.053 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 14:05:46.406 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 358.3357ms
2023-06-07 14:05:46.506 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 14:05:46.511 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 14:05:46.517 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 10.8484ms
2023-06-07 14:05:46.550 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.1287ms
2023-06-07 14:05:46.657 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 14:05:46.909 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 252.0135ms
2023-06-07 14:06:18.611 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 14:06:18.899 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:06:18.925 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 14:06:21.242 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 14:06:21.550 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 14:06:21.571 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM1OTgxLCJleHAiOjE2ODg3Mjc5ODEsImlhdCI6MTY4NjEzNTk4MX0.VPLpLdoANQ7NNrGe5CEVtnMw5QcjhhszqWTLBbRvdQM
2023-06-07 14:06:21.582 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:06:21.614 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2683.5949ms
2023-06-07 14:06:21.616 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:06:21.760 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:06:21.815 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3204.1663ms
2023-06-07 14:06:22.153 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:06:22.157 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:06:22.181 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:06:22.200 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:06:22.203 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 49.5434ms
2023-06-07 14:06:22.442 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=iMxBoj0irXNRg_TetjN2nQ - -
2023-06-07 14:06:22.456 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 14:06:22.767 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 14:06:23.747 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:06:23.756 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 14:06:23.836 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:06:23.844 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:06:23.844 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:06:23.847 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:06:23.847 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:06:23.855 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:06:23.858 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:06:23.860 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 11.0733ms
2023-06-07 14:06:23.861 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:06:23.874 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:06:23.877 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 129.0481ms
2023-06-07 14:06:23.898 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:06:23.900 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:06:23.901 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 50.8556ms
2023-06-07 14:06:23.902 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:06:23.904 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:06:23.906 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 70.1705ms
2023-06-07 14:06:25.704 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 14:06:25.706 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:06:25.708 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 14:06:25.720 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:06:25.763 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:06:25.766 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:06:25.777 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 68.2385ms
2023-06-07 14:06:25.780 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:06:25.785 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:06:25.786 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 82.6516ms
2023-06-07 14:06:40.048 +03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO messages (content_type, created_at, message_content, recipient_id, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 14:06:40.082 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AllrideApiRepository.AllrideApiDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_messages"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|225_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_messages"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: messages
    ConstraintName: PK_messages
    File: nbtinsert.c
    Line: 671
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_messages"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|225_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_messages"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: messages
    ConstraintName: PK_messages
    File: nbtinsert.c
    Line: 671
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-07 14:13:31.495 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 14:13:31.603 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 14:13:31.607 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 14:13:31.609 +03:00 [INF] Hosting environment: Development
2023-06-07 14:13:31.609 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 14:13:32.716 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 14:13:33.137 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 430.1167ms
2023-06-07 14:13:33.256 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 14:13:33.261 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 14:13:33.279 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 18.2838ms
2023-06-07 14:13:33.306 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.9554ms
2023-06-07 14:13:33.434 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 14:13:33.664 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 230.0460ms
2023-06-07 14:13:55.396 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 14:13:55.680 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:13:55.714 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 14:13:57.978 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 14:13:58.312 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 14:13:58.332 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM2NDM4LCJleHAiOjE2ODg3Mjg0MzgsImlhdCI6MTY4NjEzNjQzOH0.Jct1svBDucwFF_DuWFT3zT-Zmz10YHhFBL8BW2318lY
2023-06-07 14:13:58.342 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:13:58.372 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2650.9456ms
2023-06-07 14:13:58.374 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:13:58.531 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:13:58.577 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3180.3981ms
2023-06-07 14:13:58.930 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:13:58.932 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:13:58.957 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:13:58.974 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:13:58.977 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 47.4650ms
2023-06-07 14:13:59.187 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=c585DFbL3Xlx1q6W3ie1Cg - -
2023-06-07 14:13:59.192 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 14:13:59.384 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 14:14:02.514 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:14:02.555 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 14:14:02.615 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:14:02.620 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:14:02.635 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:14:02.639 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:14:02.643 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 20.7061ms
2023-06-07 14:14:02.644 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:14:02.656 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:14:02.658 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 144.1600ms
2023-06-07 14:14:02.757 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:14:02.759 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:14:02.760 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:14:02.764 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:14:02.766 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:14:02.767 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 5.5384ms
2023-06-07 14:14:02.768 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:14:02.770 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:14:02.772 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 14.6045ms
2023-06-07 14:14:05.872 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 14:14:05.874 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:14:05.876 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 14:14:05.893 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:14:05.943 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:14:05.946 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:14:05.957 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 78.8915ms
2023-06-07 14:14:05.958 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:14:05.962 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:14:05.965 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 93.0443ms
2023-06-07 14:14:15.150 +03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO messages (content_type, created_at, message_content, recipient_id, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 14:14:15.183 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'AllrideApiRepository.AllrideApiDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_messages"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|225_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_messages"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: messages
    ConstraintName: PK_messages
    File: nbtinsert.c
    Line: 671
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_messages"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|225_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_messages"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: messages
    ConstraintName: PK_messages
    File: nbtinsert.c
    Line: 671
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-07 14:16:32.602 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:16:32.608 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:16:32.613 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:16:32.608 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:16:32.614 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:16:32.615 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:16:32.615 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:16:32.616 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:16:32.617 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:16:32.618 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:16:32.619 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:16:32.622 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:16:32.620 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:16:32.625 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 23.2509ms
2023-06-07 14:16:32.628 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:16:32.630 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 15.8946ms
2023-06-07 14:16:32.635 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 14:16:32.645 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:16:32.651 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=c585DFbL3Xlx1q6W3ie1Cg - - - 101 - - 153463.3640ms
2023-06-07 14:16:32.669 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:16:32.670 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:16:32.671 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 63.7837ms
2023-06-07 14:16:32.672 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 59.0161ms
2023-06-07 14:16:51.624 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 14:16:51.759 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 14:16:51.763 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 14:16:51.764 +03:00 [INF] Hosting environment: Development
2023-06-07 14:16:51.765 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 14:16:52.416 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 14:16:52.754 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 14:16:52.759 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 4.5807ms
2023-06-07 14:16:52.762 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 350.1299ms
2023-06-07 14:16:52.856 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 14:16:52.891 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.7278ms
2023-06-07 14:16:52.988 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 14:16:53.168 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 179.9254ms
2023-06-07 14:17:04.537 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 14:17:04.797 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:17:04.819 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 14:17:06.926 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 14:17:07.215 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 14:17:07.240 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM2NjI3LCJleHAiOjE2ODg3Mjg2MjcsImlhdCI6MTY4NjEzNjYyN30.JWSVeRAz5IXEKOYxNP82t8eM1bk7SDKbY5kfRPVcYRw
2023-06-07 14:17:07.251 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:17:07.276 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2450.9275ms
2023-06-07 14:17:07.278 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:17:07.420 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:17:07.466 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 2928.6696ms
2023-06-07 14:17:07.556 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:17:07.558 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:17:07.578 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:17:07.624 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:17:07.626 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 69.7369ms
2023-06-07 14:17:08.208 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=iuxo_XUse6f6INyS6dALog - -
2023-06-07 14:17:08.213 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 14:17:08.494 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 14:17:09.658 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:17:09.691 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 14:17:09.757 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:17:09.762 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:17:09.773 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:17:09.775 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:17:09.778 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 13.5466ms
2023-06-07 14:17:09.779 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:17:09.782 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:17:09.786 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:17:09.787 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:17:09.791 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:17:09.794 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 135.9321ms
2023-06-07 14:17:09.828 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:17:09.830 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:17:09.831 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 42.1128ms
2023-06-07 14:17:09.832 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:17:09.834 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:17:09.836 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 53.8547ms
2023-06-07 14:17:10.978 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 14:17:10.980 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:17:10.982 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 14:17:10.994 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:17:11.041 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:17:11.044 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:17:11.050 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 66.5483ms
2023-06-07 14:17:11.052 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:17:11.055 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:17:11.057 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 79.0684ms
2023-06-07 14:17:22.204 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 14:17:22.206 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:17:22.207 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 14:17:22.210 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:17:22.215 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:17:22.217 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:17:22.218 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 9.309ms
2023-06-07 14:17:22.219 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:17:22.221 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:17:22.223 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 18.6824ms
2023-06-07 14:20:10.539 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 14:20:10.715 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 14:20:10.719 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 14:20:10.720 +03:00 [INF] Hosting environment: Development
2023-06-07 14:20:10.721 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 14:20:11.469 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 14:20:11.498 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:20:11.835 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:20:11.876 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:20:11.896 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=srVU0z6fcV73DpolUjdPJA - -
2023-06-07 14:20:11.900 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 14:20:11.960 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 493.3034ms
2023-06-07 14:20:12.110 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 14:20:12.113 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 14:20:12.125 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 11.8110ms
2023-06-07 14:20:12.150 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.9526ms
2023-06-07 14:20:12.303 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 14:20:12.554 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 251.5025ms
2023-06-07 14:20:13.812 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:20:13.892 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 2394.7692ms
2023-06-07 14:20:22.519 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 14:20:22.566 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:20:22.573 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=srVU0z6fcV73DpolUjdPJA - - - 101 - - 10676.9349ms
2023-06-07 14:20:32.412 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 14:20:32.426 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:20:32.448 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 14:20:33.376 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 14:20:33.604 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 14:20:33.627 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM2ODMzLCJleHAiOjE2ODg3Mjg4MzMsImlhdCI6MTY4NjEzNjgzM30.nA-tevHpxipKL5WfWS9uCAqSMypDozubHPdJy9N0WvI
2023-06-07 14:20:33.635 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:20:33.661 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 1207.3767ms
2023-06-07 14:20:33.663 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:20:33.682 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:20:33.685 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 1272.5795ms
2023-06-07 14:20:33.756 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:20:33.757 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:20:33.758 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:20:33.759 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:20:33.761 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 4.7770ms
2023-06-07 14:20:33.808 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=seE9wDScA9wOTwq2qZZk7Q - -
2023-06-07 14:20:33.809 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 14:20:33.884 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 14:20:36.503 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:20:36.566 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 14:20:36.621 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:20:36.625 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:20:36.632 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:20:36.634 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:20:36.636 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 8.669ms
2023-06-07 14:20:36.637 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:20:36.647 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:20:36.649 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 146.3276ms
2023-06-07 14:20:36.652 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:20:36.654 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:20:36.655 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:20:36.660 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:20:36.662 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:20:36.663 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 6.9865ms
2023-06-07 14:20:36.664 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:20:36.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:20:36.667 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 15.9173ms
2023-06-07 14:20:37.743 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 14:20:37.745 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:20:37.747 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 14:20:37.759 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:20:37.813 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:20:37.816 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:20:37.825 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 76.5934ms
2023-06-07 14:20:37.826 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:20:37.831 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:20:37.833 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 90.1133ms
2023-06-07 14:20:46.196 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO messages (content_type, created_at, message_content, recipient_id, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 14:38:29.874 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 14:38:29.917 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:38:29.919 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=seE9wDScA9wOTwq2qZZk7Q - - - 101 - - 1076111.3718ms
2023-06-07 14:38:36.485 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 14:38:36.608 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 14:38:36.613 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 14:38:36.614 +03:00 [INF] Hosting environment: Development
2023-06-07 14:38:36.615 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 14:38:37.415 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 14:38:37.767 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 354.9030ms
2023-06-07 14:38:37.866 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 14:38:37.868 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 14:38:37.877 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 9.0837ms
2023-06-07 14:38:37.900 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.1594ms
2023-06-07 14:38:37.999 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 14:38:38.199 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 200.0868ms
2023-06-07 14:38:40.462 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 14:38:40.880 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:38:40.901 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 14:38:43.182 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 14:38:43.511 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 14:38:43.530 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM3OTIzLCJleHAiOjE2ODg3Mjk5MjMsImlhdCI6MTY4NjEzNzkyM30.xsIrRNyNkPbRW9g5pShuov1STQaN75NrlCLN9V9A0Ek
2023-06-07 14:38:43.538 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:38:43.566 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2658.5869ms
2023-06-07 14:38:43.567 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:38:43.714 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:38:43.761 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3298.6369ms
2023-06-07 14:38:43.844 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:38:43.847 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:38:43.876 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:38:43.880 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:38:43.883 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 38.9913ms
2023-06-07 14:38:44.449 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=zRkqvq-w5QUhfX2y-Af6jg - -
2023-06-07 14:38:44.454 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 14:38:44.739 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 14:38:47.034 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:38:47.049 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 14:38:47.159 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:38:47.326 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:38:47.327 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:38:47.340 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:38:47.340 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:38:47.354 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:38:47.371 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:38:47.372 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:38:47.374 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 29.5235ms
2023-06-07 14:38:47.376 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:38:47.378 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:38:47.379 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 11.0895ms
2023-06-07 14:38:47.384 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:38:47.393 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:38:47.395 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 236.8727ms
2023-06-07 14:38:47.446 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:38:47.448 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 414.1407ms
2023-06-07 14:38:48.390 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 14:38:48.392 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:38:48.394 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 14:38:48.409 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:38:48.461 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:38:48.464 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:38:48.474 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 77.9056ms
2023-06-07 14:38:48.475 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:38:48.480 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:38:48.483 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 93.0306ms
2023-06-07 14:38:55.220 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO messages (content_type, created_at, message_content, recipient_id, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 14:40:16.939 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO messages (content_type, created_at, message_content, recipient_id, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 14:40:41.889 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO messages (content_type, created_at, message_content, recipient_id, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 14:41:29.034 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 14:41:29.037 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:41:29.041 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=zRkqvq-w5QUhfX2y-Af6jg - - - 101 - - 164592.0769ms
2023-06-07 14:41:37.311 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 14:41:37.423 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 14:41:37.426 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 14:41:37.428 +03:00 [INF] Hosting environment: Development
2023-06-07 14:41:37.428 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 14:41:38.232 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 14:41:38.797 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 569.6832ms
2023-06-07 14:41:38.927 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 14:41:38.931 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 14:41:38.940 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 13.0338ms
2023-06-07 14:41:39.018 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 87.0138ms
2023-06-07 14:41:39.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 14:41:39.453 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 276.6280ms
2023-06-07 14:41:41.547 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 14:41:41.832 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:41:41.861 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 14:41:44.327 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 14:41:44.708 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 14:41:44.728 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM4MTA0LCJleHAiOjE2ODg3MzAxMDQsImlhdCI6MTY4NjEzODEwNH0.nyhdJFSTc3uM9U9sufSGqox-yJoHmOzlBeOGtxkqxzg
2023-06-07 14:41:44.737 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:41:44.763 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2896.5268ms
2023-06-07 14:41:44.765 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:41:44.922 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:41:44.965 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3417.8135ms
2023-06-07 14:41:45.397 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:41:45.400 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:41:45.424 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:41:45.431 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:41:45.435 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 37.9980ms
2023-06-07 14:41:45.684 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=VpZfWgpojjecM1fzZyyjVg - -
2023-06-07 14:41:45.689 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 14:41:45.918 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 14:41:46.942 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:41:47.039 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 14:41:47.085 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:41:47.090 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:41:47.097 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:41:47.099 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:41:47.101 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 9.7232ms
2023-06-07 14:41:47.103 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:41:47.105 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:41:47.108 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:41:47.109 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:41:47.112 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:41:47.114 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:41:47.116 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 6.2622ms
2023-06-07 14:41:47.117 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:41:47.120 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:41:47.130 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 24.3003ms
2023-06-07 14:41:47.160 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:41:47.162 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 220.4368ms
2023-06-07 14:41:48.159 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 14:41:48.161 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:41:48.164 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 14:41:48.179 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:41:48.247 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:41:48.249 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:41:48.258 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 92.182ms
2023-06-07 14:41:48.259 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:41:48.264 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:41:48.265 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 106.5812ms
2023-06-07 14:41:53.204 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO messages (content_type, created_at, message_content, recipient_id, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 14:42:58.825 +03:00 [INF] Executed endpoint '/chatHubs'
2023-06-07 14:42:58.829 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:42:58.835 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=VpZfWgpojjecM1fzZyyjVg - - - 101 - - 73150.3403ms
2023-06-07 14:43:03.855 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 14:43:03.988 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 14:43:03.991 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 14:43:03.994 +03:00 [INF] Hosting environment: Development
2023-06-07 14:43:03.995 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 14:43:04.287 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50
2023-06-07 14:43:04.383 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 14:43:04.795 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:43:04.833 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 14:43:04.876 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 492.6684ms
2023-06-07 14:43:05.023 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 14:43:05.047 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 14:43:05.064 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 40.7445ms
2023-06-07 14:43:05.136 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 88.8644ms
2023-06-07 14:43:05.257 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 14:43:05.551 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 294.1397ms
2023-06-07 14:43:07.873 +03:00 [INF] Executed DbCommand (103ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 14:43:08.224 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 14:43:08.259 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTM4MTg4LCJleHAiOjE2ODg3MzAxODgsImlhdCI6MTY4NjEzODE4OH0.04BNpEbaRLOComX30CaAfcNM1Q2-622PtDv262G3yUE
2023-06-07 14:43:08.272 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:43:08.305 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 3465.353ms
2023-06-07 14:43:08.307 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 14:43:08.484 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:43:08.530 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/api/Login/login application/json;+charset=utf-8 50 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 4253.1812ms
2023-06-07 14:43:08.984 +03:00 [INF] Request starting HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2023-06-07 14:43:08.987 +03:00 [INF] Executing endpoint '/chatHubs/negotiate'
2023-06-07 14:43:09.008 +03:00 [INF] Executed endpoint '/chatHubs/negotiate'
2023-06-07 14:43:09.013 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:43:09.015 +03:00 [INF] Request finished HTTP/1.1 POST http://10.0.2.2:5000/ChatHubs/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 30.4809ms
2023-06-07 14:43:09.286 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/ChatHubs?id=vVd1w9Hc3zd4pQzREE9EQg - -
2023-06-07 14:43:09.291 +03:00 [INF] Executing endpoint '/chatHubs'
2023-06-07 14:43:09.535 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO online_users ("userId")
VALUES (@p0)
RETURNING "Id";
2023-06-07 14:43:12.714 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:43:12.768 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__ToInt32_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__ToInt32_0)
ORDER BY s.created_at DESC
2023-06-07 14:43:12.819 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:43:12.823 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:43:12.833 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:43:12.836 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:43:12.838 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 12.0789ms
2023-06-07 14:43:12.839 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:43:12.847 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:43:12.849 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 134.3347ms
2023-06-07 14:43:12.869 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json -
2023-06-07 14:43:12.872 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:43:12.873 +03:00 [INF] Route matched with {action = "SocialMediaFetchPost", controller = "SocialMediaPosts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SocialMediaFetchPost() on controller AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController (AllrideApi).
2023-06-07 14:43:12.877 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."LikedByUsers", s.caption, s.comments_count, s.created_at, s.likes_count, s.location_info, s.media_url, s.updated_at, s.user_id
FROM social_media_posts AS s
WHERE s.user_id = @__userId_0 OR EXISTS (
    SELECT 1
    FROM social_media_follows AS s0
    WHERE s0.followed_id = s.user_id AND s0.follower_id = @__userId_0)
ORDER BY s.created_at DESC
2023-06-07 14:43:12.878 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:43:12.879 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi) in 4.9831ms
2023-06-07 14:43:12.880 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.SocialMedia.SocialMediaPostsController.SocialMediaFetchPost (AllrideApi)'
2023-06-07 14:43:12.881 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:43:12.884 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/SocialMediaPosts/fetchPost application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 14.9719ms
2023-06-07 14:43:19.858 +03:00 [INF] Request starting HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json -
2023-06-07 14:43:19.861 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:43:19.865 +03:00 [INF] Route matched with {action = "fetchMessages", controller = "FetchMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchMessages(AllrideApiCore.Dtos.Chat.OldMessages) on controller AllrideApi.Controllers.FetchMessages (AllrideApi).
2023-06-07 14:43:19.879 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.id, m.content_type, m.created_at, m.message_content, m.recipient_id, m.sender_id
FROM messages AS m
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:43:19.919 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM messages AS m
INNER JOIN user_detail AS u ON CASE
    WHEN m.sender_id = @__userId_0 THEN m.recipient_id
    ELSE m.sender_id
END = u.user_id
WHERE m.sender_id = @__userId_0 OR m.recipient_id = @__userId_0
2023-06-07 14:43:19.922 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 14:43:19.932 +03:00 [INF] Executed action AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi) in 64.098ms
2023-06-07 14:43:19.935 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.FetchMessages.fetchMessages (AllrideApi)'
2023-06-07 14:43:19.939 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 14:43:19.941 +03:00 [INF] Request finished HTTP/1.1 GET http://10.0.2.2:5000/api/FetchMessages/fetchMessages?firendId=1 application/json - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 82.7289ms
2023-06-07 14:43:26.888 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO messages (content_type, created_at, message_content, recipient_id, sender_id)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING id;
2023-06-07 15:10:00.855 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 15:10:00.961 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 15:10:00.965 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 15:10:00.966 +03:00 [INF] Hosting environment: Development
2023-06-07 15:10:00.967 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 15:10:01.556 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 15:10:01.982 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 429.3808ms
2023-06-07 15:10:02.077 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 15:10:02.079 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 15:10:02.083 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 5.8483ms
2023-06-07 15:10:02.114 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.8398ms
2023-06-07 15:10:02.213 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 15:10:02.396 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 183.7520ms
2023-06-07 15:42:45.203 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 15:42:45.401 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 15:42:45.405 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 15:42:45.406 +03:00 [INF] Hosting environment: Development
2023-06-07 15:42:45.406 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 15:42:46.058 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 15:42:46.467 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 411.6885ms
2023-06-07 15:42:46.556 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 15:42:46.559 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 15:42:46.562 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 5.7004ms
2023-06-07 15:42:46.592 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.4351ms
2023-06-07 15:42:46.693 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 15:42:46.882 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 189.2320ms
2023-06-07 15:53:17.448 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/login application/json 59
2023-06-07 15:53:18.685 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 15:53:18.709 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 15:53:21.028 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 15:53:21.377 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 15:53:21.399 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTQyNDAxLCJleHAiOjE2ODg3MzQ0MDEsImlhdCI6MTY4NjE0MjQwMX0.cZzx1Yww_E5bHzwLAKiWbQQTjzcOk374hywknimPIwo
2023-06-07 15:53:21.409 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 15:53:21.434 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2719.6909ms
2023-06-07 15:53:21.436 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 15:53:21.576 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 15:53:21.620 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Login/login application/json 59 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 4171.8271ms
2023-06-07 15:53:49.168 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/FetchGroupMessages/fetchMessages?group_id=1 - -
2023-06-07 15:53:49.252 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi)'
2023-06-07 15:53:49.255 +03:00 [INF] Route matched with {action = "fetchGroupMessages", controller = "FetchGroupMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchGroupMessages(Int32) on controller AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages (AllrideApi).
2023-06-07 15:53:49.280 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__groupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g.id, g.content_type, g.created_at, g.group_id, g.message_content, g.sender_id
FROM group_messages AS g
WHERE g.group_id = @__groupId_0
2023-06-07 15:53:49.304 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__groupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM group_messages AS g
INNER JOIN user_detail AS u ON g.sender_id = u.user_id
WHERE g.group_id = @__groupId_0
2023-06-07 15:53:49.314 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g0.id, g0.created_date, g0.description, g0.group_rank, g0.image_path, g0.name, g0.type, g0.updated_date
FROM group_member AS g
INNER JOIN "group" AS g0 ON g.group_id = g0.id
WHERE g.user_id = @__userId_0
2023-06-07 15:53:49.326 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 15:53:49.336 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi) in 80.0551ms
2023-06-07 15:53:49.338 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi)'
2023-06-07 15:53:49.345 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 15:53:49.347 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/FetchGroupMessages/fetchMessages?group_id=1 - - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 178.9897ms
2023-06-07 16:12:57.000 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 16:12:57.141 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 16:12:57.145 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 16:12:57.146 +03:00 [INF] Hosting environment: Development
2023-06-07 16:12:57.147 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 16:12:57.940 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 16:12:58.286 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 348.9573ms
2023-06-07 16:12:58.400 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 16:12:58.403 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 16:12:58.407 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 6.9971ms
2023-06-07 16:12:58.437 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.0932ms
2023-06-07 16:12:58.535 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 16:12:58.751 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 216.2861ms
2023-06-07 16:22:47.079 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/login application/json 59
2023-06-07 16:22:48.329 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 16:22:48.369 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 16:22:51.016 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 16:22:51.358 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 16:22:51.379 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTQ0MTcxLCJleHAiOjE2ODg3MzYxNzEsImlhdCI6MTY4NjE0NDE3MX0.IDkpMnV7O8dOWnypW0nGXu6t50SN_GhnEvpcmgXA3N0
2023-06-07 16:22:51.390 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:22:51.446 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 3071.6443ms
2023-06-07 16:22:51.448 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 16:22:51.603 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:22:51.649 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Login/login application/json 59 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 4570.0790ms
2023-06-07 16:23:06.827 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/FetchGroupMessages/fetchMessages?group_id=1 - -
2023-06-07 16:23:06.921 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi)'
2023-06-07 16:23:06.926 +03:00 [INF] Route matched with {action = "fetchGroupMessages", controller = "FetchGroupMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchGroupMessages(Int32) on controller AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages (AllrideApi).
2023-06-07 16:23:06.960 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__groupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g.id, g.content_type, g.created_at, g.group_id, g.message_content, g.sender_id
FROM group_messages AS g
WHERE g.group_id = @__groupId_0
2023-06-07 16:23:06.987 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__groupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM group_member AS g
INNER JOIN user_detail AS u ON g.user_id = u.user_id
WHERE g.group_id = @__groupId_0
2023-06-07 16:23:06.997 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g0.id, g0.created_date, g0.description, g0.group_rank, g0.image_path, g0.name, g0.type, g0.updated_date
FROM group_member AS g
INNER JOIN "group" AS g0 ON g.group_id = g0.id
WHERE g.user_id = @__userId_0
2023-06-07 16:23:07.020 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:23:07.033 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi) in 105.0691ms
2023-06-07 16:23:07.035 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi)'
2023-06-07 16:23:07.042 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:23:07.044 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/FetchGroupMessages/fetchMessages?group_id=1 - - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 216.6306ms
2023-06-07 16:27:02.541 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 16:27:02.650 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 16:27:02.654 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 16:27:02.655 +03:00 [INF] Hosting environment: Development
2023-06-07 16:27:02.655 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 16:27:03.214 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 16:27:03.561 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 16:27:03.569 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 5.6620ms
2023-06-07 16:27:03.572 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 361.2232ms
2023-06-07 16:27:03.681 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 16:27:03.716 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.7096ms
2023-06-07 16:27:03.830 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 16:27:04.033 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 202.2732ms
2023-06-07 16:27:28.232 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/login application/json 59
2023-06-07 16:27:28.510 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 16:27:28.534 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 16:27:30.803 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 16:27:31.122 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 16:27:31.142 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTQ0NDUwLCJleHAiOjE2ODg3MzY0NTAsImlhdCI6MTY4NjE0NDQ1MH0.yC5PS9-g6ByoLGioRU2pQxh4CbcaqLRJw_Vv6coZ7Tk
2023-06-07 16:27:31.152 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:27:31.183 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2639.7862ms
2023-06-07 16:27:31.185 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 16:27:31.332 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:27:31.378 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Login/login application/json 59 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3145.9256ms
2023-06-07 16:28:09.903 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupUser?GroupId=1 - -
2023-06-07 16:28:09.986 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupUserDetail (AllrideApi)'
2023-06-07 16:28:09.988 +03:00 [INF] Route matched with {action = "GetGroupUserDetail", controller = "Groups"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetGroupUserDetail(Int32) on controller AllrideApi.Controllers.Version_1.Chat.Group.GroupsController (AllrideApi).
2023-06-07 16:28:10.031 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GroupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "group" AS g
    WHERE g.id = @__GroupId_0)
2023-06-07 16:28:10.055 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GroupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.name AS "Name", u.lastname AS "LastName", u.date_of_birth AS "DateOfBirth", u.gender AS "Gender", u.phone AS "Phone", u.country AS "Country", u.language AS "Language", u.pp_path AS "PpPath"
FROM group_member AS g
INNER JOIN user_detail AS u ON g.user_id = u.id
WHERE g.group_id = @__GroupId_0
LIMIT 1
2023-06-07 16:28:10.058 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:28:10.061 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupUserDetail (AllrideApi) in 70.495ms
2023-06-07 16:28:10.062 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupUserDetail (AllrideApi)'
2023-06-07 16:28:10.068 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:28:10.070 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupUser?GroupId=1 - - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 167.4047ms
2023-06-07 16:31:24.931 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 16:31:25.043 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 16:31:25.047 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 16:31:25.048 +03:00 [INF] Hosting environment: Development
2023-06-07 16:31:25.049 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 16:31:25.837 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 16:31:26.181 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 346.7918ms
2023-06-07 16:31:26.281 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 16:31:26.282 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 16:31:26.291 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 9.0777ms
2023-06-07 16:31:26.311 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.9685ms
2023-06-07 16:31:26.413 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 16:31:26.612 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 198.3601ms
2023-06-07 16:31:44.681 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/login application/json 59
2023-06-07 16:31:44.956 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 16:31:44.981 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 16:31:47.307 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 16:31:47.616 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 16:31:47.648 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTQ0NzA3LCJleHAiOjE2ODg3MzY3MDcsImlhdCI6MTY4NjE0NDcwN30.x9vpq3Y7Ujx5fI5_zvEf30lRHuSnA49j5qx8xoCdu3E
2023-06-07 16:31:47.658 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:31:47.688 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2701.4478ms
2023-06-07 16:31:47.690 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 16:31:47.832 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:31:47.891 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Login/login application/json 59 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3209.6418ms
2023-06-07 16:32:13.548 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupDetail?GroupId=1 - -
2023-06-07 16:32:13.667 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi)'
2023-06-07 16:32:13.669 +03:00 [INF] Route matched with {action = "GetGroupDetail", controller = "Groups"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetGroupDetail(Int32) on controller AllrideApi.Controllers.Version_1.Chat.Group.GroupsController (AllrideApi).
2023-06-07 16:32:13.736 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GroupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g.name, g.image_path, g.description, g.created_date, g.group_rank, u.name AS group_admin
FROM "group" AS g
INNER JOIN group_member AS g0 ON g.id = g0.group_id
INNER JOIN user_detail AS u ON g0.user_id = u.id
WHERE g.id = @__GroupId_0
LIMIT 1
2023-06-07 16:32:13.739 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:32:13.743 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi) in 71.5456ms
2023-06-07 16:32:13.744 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi)'
2023-06-07 16:32:13.751 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:32:13.754 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupDetail?GroupId=1 - - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 205.7320ms
2023-06-07 16:32:51.624 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupUser?GroupId=1 - -
2023-06-07 16:32:51.644 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupUserDetail (AllrideApi)'
2023-06-07 16:32:51.646 +03:00 [INF] Route matched with {action = "GetGroupUserDetail", controller = "Groups"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetGroupUserDetail(Int32) on controller AllrideApi.Controllers.Version_1.Chat.Group.GroupsController (AllrideApi).
2023-06-07 16:32:51.716 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__GroupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "group" AS g
    WHERE g.id = @__GroupId_0)
2023-06-07 16:32:51.730 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__GroupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id AS "Id", u.name AS "Name", u.lastname AS "LastName", u.date_of_birth AS "DateOfBirth", u.gender AS "Gender", u.phone AS "Phone", u.country AS "Country", u.language AS "Language", u.pp_path AS "PpPath"
FROM group_member AS g
INNER JOIN user_detail AS u ON g.user_id = u.id
WHERE g.group_id = @__GroupId_0
LIMIT 1
2023-06-07 16:32:51.733 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:32:51.737 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupUserDetail (AllrideApi) in 89.5322ms
2023-06-07 16:32:51.738 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupUserDetail (AllrideApi)'
2023-06-07 16:32:51.740 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:32:51.743 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupUser?GroupId=1 - - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 119.6754ms
2023-06-07 16:33:42.680 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupDetail?GroupId=2 - -
2023-06-07 16:33:42.686 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi)'
2023-06-07 16:33:42.688 +03:00 [INF] Route matched with {action = "GetGroupDetail", controller = "Groups"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetGroupDetail(Int32) on controller AllrideApi.Controllers.Version_1.Chat.Group.GroupsController (AllrideApi).
2023-06-07 16:33:42.712 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__GroupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g.name, g.image_path, g.description, g.created_date, g.group_rank, u.name AS group_admin
FROM "group" AS g
INNER JOIN group_member AS g0 ON g.id = g0.group_id
INNER JOIN user_detail AS u ON g0.user_id = u.id
WHERE g.id = @__GroupId_0
LIMIT 1
2023-06-07 16:33:42.717 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:33:42.729 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi) in 28.9167ms
2023-06-07 16:33:42.731 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi)'
2023-06-07 16:33:42.733 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:33:42.734 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupDetail?GroupId=2 - - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 54.5179ms
2023-06-07 16:33:49.905 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupDetail?GroupId=1 - -
2023-06-07 16:33:49.907 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi)'
2023-06-07 16:33:49.908 +03:00 [INF] Route matched with {action = "GetGroupDetail", controller = "Groups"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetGroupDetail(Int32) on controller AllrideApi.Controllers.Version_1.Chat.Group.GroupsController (AllrideApi).
2023-06-07 16:33:49.912 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__GroupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g.name, g.image_path, g.description, g.created_date, g.group_rank, u.name AS group_admin
FROM "group" AS g
INNER JOIN group_member AS g0 ON g.id = g0.group_id
INNER JOIN user_detail AS u ON g0.user_id = u.id
WHERE g.id = @__GroupId_0
LIMIT 1
2023-06-07 16:33:49.914 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:33:49.916 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi) in 6.0581ms
2023-06-07 16:33:49.917 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi)'
2023-06-07 16:33:49.920 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:33:49.922 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupDetail?GroupId=1 - - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 17.0900ms
2023-06-07 16:34:54.145 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 16:34:54.287 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 16:34:54.291 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 16:34:54.291 +03:00 [INF] Hosting environment: Development
2023-06-07 16:34:54.292 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 16:34:54.907 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 16:34:55.269 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 364.8781ms
2023-06-07 16:34:55.379 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 16:34:55.384 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 16:34:55.390 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 10.9981ms
2023-06-07 16:34:55.428 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.4964ms
2023-06-07 16:34:55.540 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 16:34:55.740 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 200.2465ms
2023-06-07 16:35:30.001 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/login application/json 59
2023-06-07 16:35:30.265 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 16:35:30.288 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 16:35:32.552 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 16:35:32.852 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 16:35:32.874 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTQ0OTMyLCJleHAiOjE2ODg3MzY5MzIsImlhdCI6MTY4NjE0NDkzMn0._i6B0m7LbUJXwdDStJJNZBo3K2T4DqMpDWoinBNyUlg
2023-06-07 16:35:32.884 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:35:32.911 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 2615.3012ms
2023-06-07 16:35:32.913 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 16:35:33.068 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:35:33.115 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Login/login application/json 59 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 3113.6570ms
2023-06-07 16:36:15.868 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupDetail?GroupId=1 - -
2023-06-07 16:36:15.982 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi)'
2023-06-07 16:36:15.985 +03:00 [INF] Route matched with {action = "GetGroupDetail", controller = "Groups"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetGroupDetail(Int32) on controller AllrideApi.Controllers.Version_1.Chat.Group.GroupsController (AllrideApi).
2023-06-07 16:36:16.043 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GroupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g.id AS "Id", g.name, g.image_path, g.description, g.created_date, g.group_rank, u.name AS group_admin
FROM "group" AS g
INNER JOIN group_member AS g0 ON g.id = g0.group_id
INNER JOIN user_detail AS u ON g0.user_id = u.id
WHERE g.id = @__GroupId_0
LIMIT 1
2023-06-07 16:36:16.047 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:36:16.050 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi) in 63.3547ms
2023-06-07 16:36:16.051 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi)'
2023-06-07 16:36:16.055 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:36:16.058 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupDetail?GroupId=1 - - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 190.5309ms
2023-06-07 16:38:24.986 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupUser?GroupId=1 - -
2023-06-07 16:38:24.996 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupUserDetail (AllrideApi)'
2023-06-07 16:38:24.999 +03:00 [INF] Route matched with {action = "GetGroupUserDetail", controller = "Groups"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetGroupUserDetail(Int32) on controller AllrideApi.Controllers.Version_1.Chat.Group.GroupsController (AllrideApi).
2023-06-07 16:38:25.076 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__GroupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "group" AS g
    WHERE g.id = @__GroupId_0)
2023-06-07 16:38:25.085 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__GroupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.user_id AS "Id", u.name AS "Name", u.lastname AS "LastName", u.date_of_birth AS "DateOfBirth", u.gender AS "Gender", u.phone AS "Phone", u.country AS "Country", u.language AS "Language", u.pp_path AS "PpPath"
FROM group_member AS g
INNER JOIN user_detail AS u ON g.user_id = u.id
WHERE g.group_id = @__GroupId_0
LIMIT 1
2023-06-07 16:38:25.087 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:38:25.089 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupUserDetail (AllrideApi) in 88.3683ms
2023-06-07 16:38:25.090 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupUserDetail (AllrideApi)'
2023-06-07 16:38:25.092 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:38:25.094 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupUser?GroupId=1 - - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 108.0657ms
2023-06-07 16:38:30.521 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupDetail?GroupId=1 - -
2023-06-07 16:38:30.523 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi)'
2023-06-07 16:38:30.523 +03:00 [INF] Route matched with {action = "GetGroupDetail", controller = "Groups"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetGroupDetail(Int32) on controller AllrideApi.Controllers.Version_1.Chat.Group.GroupsController (AllrideApi).
2023-06-07 16:38:30.547 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GroupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g.id AS "Id", g.name, g.image_path, g.description, g.created_date, g.group_rank, u.name AS group_admin
FROM "group" AS g
INNER JOIN group_member AS g0 ON g.id = g0.group_id
INNER JOIN user_detail AS u ON g0.user_id = u.id
WHERE g.id = @__GroupId_0
LIMIT 1
2023-06-07 16:38:30.550 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:38:30.551 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi) in 14.0148ms
2023-06-07 16:38:30.552 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.GroupsController.GetGroupDetail (AllrideApi)'
2023-06-07 16:38:30.555 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:38:30.558 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Groups/getGroupDetail?GroupId=1 - - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 36.8122ms
2023-06-07 16:44:24.145 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/FetchGroupMessages/fetchMessages?group_id=1 - -
2023-06-07 16:44:24.150 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi)'
2023-06-07 16:44:24.152 +03:00 [INF] Route matched with {action = "fetchGroupMessages", controller = "FetchGroupMessages"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult fetchGroupMessages(Int32) on controller AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages (AllrideApi).
2023-06-07 16:44:24.194 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__groupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g.id, g.content_type, g.created_at, g.group_id, g.message_content, g.sender_id
FROM group_messages AS g
WHERE g.group_id = @__groupId_0
2023-06-07 16:44:24.210 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__groupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT u.user_id AS "UserId", u.name AS "Name", u.lastname AS "LastName"
FROM group_member AS g
INNER JOIN user_detail AS u ON g.user_id = u.user_id
WHERE g.group_id = @__groupId_0
2023-06-07 16:44:24.218 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g0.id, g0.created_date, g0.description, g0.group_rank, g0.image_path, g0.name, g0.type, g0.updated_date
FROM group_member AS g
INNER JOIN "group" AS g0 ON g.group_id = g0.id
WHERE g.user_id = @__userId_0
2023-06-07 16:44:24.231 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 16:44:24.247 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi) in 93.8778ms
2023-06-07 16:44:24.249 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi)'
2023-06-07 16:44:24.255 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 16:44:24.257 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/FetchGroupMessages/fetchMessages?group_id=1 - - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 115.8775ms
2023-06-07 17:15:14.008 +03:00 [INF] User profile is available. Using 'C:\Users\omera\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-07 17:15:14.216 +03:00 [INF] Now listening on: http://localhost:5000
2023-06-07 17:15:14.219 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-07 17:15:14.220 +03:00 [INF] Hosting environment: Development
2023-06-07 17:15:14.221 +03:00 [INF] Content root path: D:\Work\touride\current\current\current\AllrideApi\
2023-06-07 17:15:14.513 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2023-06-07 17:15:14.891 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 380.7930ms
2023-06-07 17:15:15.027 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - -
2023-06-07 17:15:15.028 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_vs/browserLink - -
2023-06-07 17:15:15.033 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 6.3570ms
2023-06-07 17:15:15.086 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.0530ms
2023-06-07 17:15:15.187 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2023-06-07 17:15:15.429 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 241.6048ms
2023-06-07 17:15:59.229 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/login application/json 59
2023-06-07 17:16:00.308 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 17:16:00.337 +03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(DTO.Select.LoginUserDto) on controller AllrideApi.Controllers.Version_1.User.LoginController (AllrideApi).
2023-06-07 17:16:02.966 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__user_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.active_user, u.apple_id, u.created_date, u.deleted_date, u.email, u.facebook_id, u.google_id, u.instagram_id, u."RefreshToken", u."ResfreshTokenEndDate", u.updated_date, u.verified_member, u.user_type, u0.id, u0.created_date, u0.hash_pass, u0.salt_pass, u0.updated_date, u0.user_id
FROM "user" AS u
LEFT JOIN user_password AS u0 ON u.id = u0.user_id
WHERE u.email = @__user_Email_0
LIMIT 2
2023-06-07 17:16:03.353 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.country, u.created_date, u.date_of_birth, u.gender, u.language, u.lastname, u.name, u.phone, u.pp_path, u.updated_date, u.user_id, u.vehicle_type, u.status
FROM user_detail AS u
WHERE u.user_id = @__user_Id_0
LIMIT 2
2023-06-07 17:16:03.375 +03:00 [INF] ----------------Token Oluşturuldu-------------------:  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJlbWFpbCI6Im9tZXJAZ21haWwuY29tIiwibmJmIjoxNjg2MTQ3MzYzLCJleHAiOjE2ODg3MzkzNjMsImlhdCI6MTY4NjE0NzM2M30.wU_bwX4fxJ7UzIbETTNaCqSVtJalT8QNPHnj8hAAn1o
2023-06-07 17:16:03.386 +03:00 [INF] Executing OkObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 17:16:03.420 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi) in 3075.6631ms
2023-06-07 17:16:03.422 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.User.LoginController.Login (AllrideApi)'
2023-06-07 17:16:03.563 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 17:16:03.612 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Login/login application/json 59 - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 4383.1108ms
2023-06-07 17:16:27.164 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/FetchGroupMessages/fetchMessages?group_id=1 - -
2023-06-07 17:16:27.257 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi)'
2023-06-07 17:16:27.261 +03:00 [INF] Route matched with {action = "fetchGroupMessages", controller = "FetchGroupMessages"}. Executing controller action with signature AllrideApiService.Response.CustomResponse`1[System.Object] fetchGroupMessages(Int32) on controller AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages (AllrideApi).
2023-06-07 17:16:27.316 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__groupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g.id, g.content_type, g.created_at, g.group_id, g.message_content, g.sender_id
FROM group_messages AS g
WHERE g.group_id = @__groupId_0
2023-06-07 17:16:27.318 +03:00 [INF] Executing ObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 17:16:27.321 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi) in 57.7084ms
2023-06-07 17:16:27.322 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi)'
2023-06-07 17:16:27.327 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 17:16:27.330 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/FetchGroupMessages/fetchMessages?group_id=1 - - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 165.9665ms
2023-06-07 17:16:58.473 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/FetchGroupMessages/fetchMessages?group_id=0 - -
2023-06-07 17:16:58.488 +03:00 [INF] Executing endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi)'
2023-06-07 17:16:58.491 +03:00 [INF] Route matched with {action = "fetchGroupMessages", controller = "FetchGroupMessages"}. Executing controller action with signature AllrideApiService.Response.CustomResponse`1[System.Object] fetchGroupMessages(Int32) on controller AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages (AllrideApi).
2023-06-07 17:16:58.568 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__groupId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g.id, g.content_type, g.created_at, g.group_id, g.message_content, g.sender_id
FROM group_messages AS g
WHERE g.group_id = @__groupId_0
2023-06-07 17:16:58.578 +03:00 [INF] Executing ObjectResult, writing value of type 'AllrideApiService.Response.CustomResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-07 17:16:58.580 +03:00 [INF] Executed action AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi) in 87.9748ms
2023-06-07 17:16:58.582 +03:00 [INF] Executed endpoint 'AllrideApi.Controllers.Version_1.Chat.Group.FetchGroupMessages.fetchGroupMessages (AllrideApi)'
2023-06-07 17:16:58.585 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO api_log (api_type, client_ip, created_date, request_param, response, response_date, response_status, service_name)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2023-06-07 17:16:58.587 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/FetchGroupMessages/fetchMessages?group_id=0 - - - 200 - application/json;+charset=utf-8;+touride-media-type-api-vers=1.0 114.1444ms
